import matplotlib.pyplot as plt
import numpy as np

# Data
n_cases = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120, 130, 140, 150, 160, 170, 180, 190, 200, 210, 220, 230, 240, 250, 260, 270, 280, 290, 300, 310, 320, 330, 340, 350, 360, 370, 380, 390, 400, 410, 420, 430, 440, 450, 460, 470, 480, 490, 500, 510, 520, 530, 540, 550, 560, 570, 580, 590, 600, 610, 620, 630, 640, 650, 660, 670, 680, 690, 700, 710, 720, 730, 740, 750, 760, 770, 780, 790, 800, 810, 820, 830, 840, 850, 860, 870, 880, 890, 900, 910, 920, 930, 940, 950, 960, 970, 980, 990, 1000]

runtime_seconds = [0.0013748749915976077, 0.002045667002676055, 0.00931270798901096, 0.010019583016401157, 0.01533975001075305, 0.019336124998517334, 0.0311849580029957, 0.04676487497636117, 0.07208266700035892, 0.0789794169832021, 0.1402009160083253, 0.1433299159980379, 0.16167500001029111, 0.27638841699808836, 0.27249216701602563, 0.34851537499343976, 0.4085640420089476, 0.46727766600088216, 0.5769360410049558, 0.5717344160075299, 0.6658440419996623, 0.8108072920003906, 0.9723915409995243, 1.242915125010768, 1.3367151250131428, 1.4042832500126678, 1.7013020410086028, 1.5948018750059418, 2.002636709017679, 2.127159000025131, 2.426528000010876, 3.2260504580044653, 3.20546708299662, 3.708945791993756, 3.9054450840048958, 3.7832942089880817, 3.663763917022152, 4.352454207983101, 4.991749875014648, 5.604374832997564, 6.143688167008804, 5.705262165982276, 7.494563083018875, 7.2837307500012685, 7.483183749980526, 9.135920874978183, 7.856422624987317, 9.4992457080225, 10.916506458015647, 9.78283441599342, 10.875285916990833, 10.658534042013343, 10.995266874990193, 13.275326667004265, 13.933127374999458, 14.376179625018267, 16.40458345899242, 16.35582374999649, 18.19185616701725, 19.223111583007267, 18.133493584027747, 25.012943541019922, 21.02836666701478, 21.471208457980538, 26.414297125011217, 27.976393042015843, 25.429873874993064, 27.852654333983082, 27.528380417003063, 31.247089542011963, 34.768121750006685, 31.978713749995222, 35.0177631250117, 33.442357375024585, 35.2090474999859, 34.736348916980205, 35.159750499995425, 48.66880937499809, 42.4689683339966, 43.315976333018625, 45.87008783299825, 48.43912649998674, 51.85730429200339, 50.798291874991264, 54.706372959015425, 65.39956237500883, 61.882622332981555, 61.64117312498274, 64.6074051669857, 65.53952608400141, 67.72486362501513, 68.86159587500151, 83.79237183299847, 78.05134008300956, 73.22387462502229, 76.49576141597936, 71.65401337499497, 77.69199862499954, 90.31954141700407, 88.90412979200482]

# Create the plot
plt.figure(figsize=(12, 8))
plt.scatter(n_cases, runtime_seconds, alpha=0.6, s=30, color='steelblue')
plt.plot(n_cases, runtime_seconds, alpha=0.3, color='steelblue', linewidth=1)

# Add trend line (polynomial fit)
z = np.polyfit(n_cases, runtime_seconds, 2)
p = np.poly1d(z)
plt.plot(n_cases, p(n_cases), "r--", alpha=0.8, linewidth=2, label='Quadratic trend')

plt.xlabel('Number of Cases', fontsize=12)
plt.ylabel('Runtime (seconds)', fontsize=12)
plt.title('Algorithm Runtime vs Number of Cases', fontsize=14, fontweight='bold')
plt.grid(True, alpha=0.3)
plt.legend()

# Add some statistics
plt.text(0.02, 0.98, f'Max runtime: {max(runtime_seconds):.1f}s at n={n_cases[runtime_seconds.index(max(runtime_seconds))]}', 
         transform=plt.gca().transAxes, verticalalignment='top', 
         bbox=dict(boxstyle='round', facecolor='wheat', alpha=0.8))

plt.tight_layout()
plt.show()

# Print some insights
print(f"Runtime scaling analysis:")
print(f"• Runtime grows from {runtime_seconds[0]:.4f}s to {runtime_seconds[-1]:.1f}s")
print(f"• Approximate scaling factor: {runtime_seconds[-1]/runtime_seconds[0]:.0f}x")
print(f"• The quadratic trend suggests O(n²) complexity")